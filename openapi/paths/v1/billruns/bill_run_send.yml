patch:
  operationId: SendBillRun
  description: "Triggers (re)generation of summary statistics for the bill run and creation of a transaction file containing all transactions in the bill run. Bill run must be unbilled and approved."
  tags:
    - billrun
  parameters:
    - $ref: '../../../schema/parameters.yml#/regime'
    - $ref: '../../../schema/parameters.yml#/billrunId'
  responses:
    '200':
      description: "Success"
      content:
        application/json:
          schema:
            type: object
            properties:
              billRun:
                $ref: '../../../schema/schemas.yml#/billrun'
post:
  operationId: SendBillRun
  description: "**This endpoint will be removed in the next version of the API**. Does exactly the same thing as the `PATCH` version. It is deprecated and will be removed because it does not meet our convention of using `PATCH` for endpoints like these."
  tags:
    - billrun
  deprecated: true
  parameters:
    - $ref: '../../../schema/parameters.yml#/regime'
    - $ref: '../../../schema/parameters.yml#/billrunId'
  responses:
    '200':
      description: "Success"
      content:
        application/json:
          schema:
            type: object
            properties:
              billRun:
                $ref: '../../../schema/schemas.yml#/billrun'
